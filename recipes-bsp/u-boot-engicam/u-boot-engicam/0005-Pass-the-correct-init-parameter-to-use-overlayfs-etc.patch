From fbe199ade3588b3e08f62e0229f4961a739f5f1c Mon Sep 17 00:00:00 2001
From: Simone Tellini <simone.tellini@robomagister.com>
Date: Wed, 31 Jan 2024 11:01:45 +0100
Subject: [PATCH] Pass the correct init parameter to use overlayfs-etc

---
 include/configs/imx8mp_icore.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)
 mode change 100644 => 100755 include/configs/imx8mp_icore.h

diff --git a/include/configs/imx8mp_icore.h b/include/configs/imx8mp_icore.h
old mode 100644
new mode 100755
index 30f62d842f..5fe6ab2a40
--- a/include/configs/imx8mp_icore.h
+++ b/include/configs/imx8mp_icore.h
@@ -105,7 +105,7 @@
 	"mmcblk=2\0" \
 	"mmcroot=/dev/mmcblk2p${mmcpart} rootwait rw\0" \
 	"mmcautodetect=yes\0" \
-	"mmcargs=setenv bootargs ${jh_clk} ${mcore_clk} console=${console} root=/dev/mmcblk${mmcblk}p${mmcpart} " CMA_VALUE "\0 " \
+	"mmcargs=setenv bootargs ${jh_clk} ${mcore_clk} console=${console} root=/dev/mmcblk${mmcblk}p${mmcpart} init=/sbin/preinit " CMA_VALUE "\0 " \
 	"loadbootscript=load mmc ${mmcdev}:${mmcpart} ${loadaddr} ${bsp_script};\0" \
 	"bootscript=echo Running bootscript from mmc ...; " \
 		"source\0" \
-- 
2.34.1

